(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{26:function(e,t,n){e.exports=n(50)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),c=n.n(r),l=(n(31),n(18)),i=n(1),s=n(2),u=n(4),d=n(3),h=n(5),m=(n(32),n(33),n(7)),f="http://localhost:9090",p=o.a.createContext({notes:[],folders:[],deleteNote:function(){},addFolder:function(){},addNote:function(){}}),b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleDeleteNote=function(e,t){console.log(e),fetch("".concat(f,"/notes/").concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(n){console.log(e),t(e)})).catch((function(e){return console.error(e)}))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"note"},o.a.createElement(m.b,{to:"/note/".concat(this.props.id)},o.a.createElement("h2",null,this.props.title)),o.a.createElement("div",{className:"note-second-row"},o.a.createElement("p",null,"Date modified on ",this.props.date),o.a.createElement("button",{className:"delete-button",onClick:function(){return e.handleDeleteNote(e.props.id,e.context.deleteNote)}},"Delete Note")))}}]),t}(a.Component);b.contextType=p;var E=b,v=(n(39),n(14)),j=n.n(v),N=(n(42),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).validateTitle=function(){n.setState({note:{title:n.state.note.title,content:n.state.note.content,folder:n.state.note.folder}}),0===n.state.note.title.length?n.setState({note:{title:n.state.note.title,content:n.state.note.content,folder:n.state.note.folder,errorMsg:"Title is required!"}}):n.setState({note:{title:n.state.note.title,content:n.state.note.content,folder:n.state.note.folder,errorMsg:""}})},n.handleCancel=function(){n.props.history.push("/")},n.state={note:{title:"",content:"",folder:"Important",errorMsg:""}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"updateTitle",value:function(e){this.setState({note:{title:e,content:this.state.note.content,folder:this.state.note.folder}})}},{key:"updateContent",value:function(e){this.setState({note:{title:this.state.note.title,content:e,folder:this.state.note.folder}})}},{key:"updateFolderOption",value:function(e){this.setState({note:{title:this.state.note.title,content:this.state.note.content,folder:e}})}},{key:"handleSubmitNote",value:function(e){var t=this;if(e.preventDefault(),this.validateTitle(),0!==this.state.note.title.length){var n=j.a.v4(),a=(new Date).toISOString(),o=this.context.folders.find((function(e){return e.name===t.state.note.folder})).id,r={id:n,name:this.state.note.title,modified:a,folderId:o,content:this.state.note.content};console.log(r),fetch("".concat(f,"/notes"),{method:"POST",body:JSON.stringify(r),headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong. please try again later.");return e.json()})).then((function(e){t.context.addNote(e),t.props.history.push("/")})).catch((function(e){return console.error(e)}))}}},{key:"render",value:function(){var e=this,t=this.context.folders.map((function(e,t){return o.a.createElement("option",{key:t,value:e.name},e.name)}));return o.a.createElement("div",{className:"add-note-container"},o.a.createElement("h2",null,"Add New Note"),o.a.createElement("form",{onSubmit:function(t){e.handleSubmitNote(t)}},o.a.createElement("div",{className:"form-section"},o.a.createElement("label",{htmlFor:"noteTitle"},"Title: "),o.a.createElement("input",{type:"textarea",id:"noteTitle",name:"noteTitle",onChange:function(t){return e.updateTitle(t.target.value)}}),o.a.createElement("div",{className:"error-message"},this.state.note.errorMsg)),o.a.createElement("div",{className:"form-section"},o.a.createElement("label",{htmlFor:"noteContent"},"Content: "),o.a.createElement("input",{type:"textarea",id:"noteContent",name:"noteContent",rows:"10",cols:"30",onChange:function(t){return e.updateContent(t.target.value)}})),o.a.createElement("div",{className:"form-section"},o.a.createElement("label",{htmlFor:"selectFolder"},"Save in which folder: "),o.a.createElement("select",{id:"selectFolder",name:"selectFolder",onChange:function(t){return e.updateFolderOption(t.target.value)}},">",t)),o.a.createElement("div",{className:"button-group"},o.a.createElement("button",{type:"submit"},"Save"),o.a.createElement("button",{onClick:this.handleCancel},"Cancel"))))}}]),t}(a.Component));N.contextType=p;var O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.match.params.folderId?this.context.notes.filter((function(t){return t.folderId===e.props.match.params.folderId})):this.context.notes).map((function(e){return o.a.createElement(E,{key:e.id,id:e.id,title:e.name,date:e.modified})}));return o.a.createElement("div",{className:"note-list-container"},o.a.createElement("div",{className:"note-list"},t,o.a.createElement(m.b,{to:"/add-note"},o.a.createElement("button",{className:"add-button"},"Add Note"))))}}]),t}(a.Component);O.contextType=p;var y=O,k=n(11);n(43);var g=function(){return o.a.createElement("header",{className:"header"},o.a.createElement("h1",{className:"header-title"},o.a.createElement(m.b,{to:"/"},"Noteful")))},C=(n(44),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(m.c,{activeClassName:"active",exact:!0,to:"/folder/".concat(this.props.id)},o.a.createElement("li",null,this.props.name))}}]),t}(a.Component));C.contextType=p;var S=C,w=(n(45),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.context.folders.map((function(e){return o.a.createElement(S,{key:e.id,id:e.id,name:e.name})}));return o.a.createElement("aside",{className:"sidebar"},o.a.createElement("ul",null,e),o.a.createElement("div",{className:"button-container"},o.a.createElement(m.b,{to:"/add-folder"},o.a.createElement("button",{className:"add-folder-button"},"Add folder"))))}}]),t}(a.Component));w.contextType=p;var x=w,F=(n(46),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onClickGoBack=function(){n.props.history.push("/")},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.context.folders.find((function(t){return t.id===e.context.notes.find((function(t){return t.id===e.props.match.params.noteId})).folderId}));return o.a.createElement("aside",{className:"sidebar"},o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{className:"go-back-button",onClick:this.onClickGoBack},"Go Back"),o.a.createElement("p",null,t.name)))}}]),t}(a.Component));F.contextType=p;var T=Object(k.e)(F),D=(n(47),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleDeleteNote=function(e,t){console.log(e),fetch("".concat(f,"/notes/").concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(a){console.log("innoteid"),n.props.history.push("/"),t(e)})).catch((function(e){return console.error(e)}))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.context.notes.find((function(t){return t.id===e.props.match.params.noteId}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"note"},o.a.createElement(m.b,{to:"/note/".concat(t.id)},o.a.createElement("h2",null,t.name)),o.a.createElement("div",{className:"note-second-row"},o.a.createElement("p",null,"Date modified on ",t.modified),o.a.createElement("button",{className:"delete-button",onClick:function(){return e.handleDeleteNote(t.id,e.context.deleteNote)}},"Delete Note"))),o.a.createElement("p",{className:"note-content"},t.content))}}]),t}(a.Component));D.contextType=p;var A=D,I=(n(48),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t={id:j.a.v4(),name:e.target.folderName.value};fetch("".concat(f,"/folders"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Failed at adding new folder. Please try again later.");return e.json()})).then((function(e){n.props.history.push("/"),n.context.addFolder(e)})).catch((function(e){return console.error(e)}))},n.handleCancel=function(e){n.props.history.push("/")},n.state={folderName:""},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleAddFolderName",value:function(e){this.setState({folderName:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"add-folder-form"},o.a.createElement("h2",null,"Add New Folder"),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"folderName"},"Folder Name: "),o.a.createElement("input",{id:"folderName",name:"folderName",type:"textarea",onChange:function(t){return e.handleAddFolderName(t.target.value)},required:!0})),o.a.createElement("div",{className:"button-group"},o.a.createElement("button",{type:"submit"},"Save"),o.a.createElement("button",{onClick:this.handleCancel},"Cancel"))))}}]),t}(a.Component));I.contextType=p;n(49);var B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleGoBack",value:function(e){this.props.history.push("/")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{className:"go-back-button",onClick:function(t){return e.handleGoBack(t)}},"< Go Back"))}}]),t}(a.Component),G=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h2",null,"Something went wrong. Please try again."):this.props.children}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleDeleteNote=function(e){var t=n.state.notes.filter((function(t){return t.id!==e}));console.log(t),n.setState({notes:t})},n.handleAddFolder=function(e){var t=[].concat(Object(l.a)(n.state.folders),[e]);n.setState({folders:t})},n.handleAddNote=function(e){var t=[].concat(Object(l.a)(n.state.notes),[e]);n.setState({notes:t})},n.state={folders:[],notes:[]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:9090/folders").then((function(e){if(!e.ok)throw new G(e.status);return e.json()})).then((function(t){e.setState({folders:t}),fetch("http://localhost:9090/notes").then((function(e){if(!e.ok)throw new G(e.status);return e.json()})).then((function(t){e.setState({notes:t})})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p.Provider,{value:{folders:this.state.folders,notes:this.state.notes,deleteNote:this.handleDeleteNote,addFolder:this.handleAddFolder,addNote:this.handleAddNote}},o.a.createElement(g,null),o.a.createElement("div",{className:"content-section"},o.a.createElement("nav",null,o.a.createElement(G,null,o.a.createElement(k.a,{exact:!0,path:"/",component:x}),o.a.createElement(k.a,{path:"/folder/:folderId",component:x}),o.a.createElement(k.a,{path:"/note/:noteId",component:T}),o.a.createElement(k.a,{path:"/add-folder",component:B}),o.a.createElement(k.a,{path:"/add-note",component:B}))),o.a.createElement("main",null,o.a.createElement(G,null,o.a.createElement(k.a,{exact:!0,path:"/",component:y}),o.a.createElement(k.a,{path:"/folder/:folderId",component:y}),o.a.createElement(k.a,{path:"/note/:noteId",component:A}),o.a.createElement(k.a,{path:"/add-folder",component:I}),o.a.createElement(k.a,{path:"/add-note",component:N}))))))}}]),t}(a.Component);c.a.render(o.a.createElement(m.a,{basename:"/noteful"},o.a.createElement(M,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.bde1029c.chunk.js.map